<?xml version="1.0" encoding="utf-8"?>
<!-- EN-Revision: 96c9d88bad9a7d7d44bfb7f26c226df7ee9ddf26 Maintainer: sergey Status: ready -->
<!-- Reviewed: no -->
<chapter xml:id="chm.integration" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink">
 <title>Интеграция руководства по PHP</title>

 <para>
  <note>
   <para>
    Информация, представленная здесь, в основном предназначена для авторов IDE
    или опытных пользователей, которые хотели бы интегрировать CHM-файл
    в любимые IDE или другие компоненты производственной среды.
   </para>
  </note>
 </para>
 <para>
  Существует несколько редакторов с поддержкой интеграции CHM,
  но для успешной интеграции руководства в вашу среду,
  может понадобиться кое-что узнать о том, что содержит CHM.
 </para>
 <para>
  CHM создаётся с помощью таблиц стилей XSL из XML-источников.
  Это уникальное явление в семействе руководств PHP,
  поскольку все остальные версии создаются с использованием таблиц стилей DSSSL.
  Это также означает, что могут возникнуть непреднамеренные различия в отображении.
  На выходе XSLT выполняется специальный скрипт преобразования,
  который добавляет несколько симпатичных функций и упаковывает руководство вместе
  с файлами настроек и примерами тем отображения.
 </para>
 <para>
  Если вы никогда не работали с CHM, то можете считать их сжатыми файлами
  с поддерживаемым операционной системой доступом к файлам внутри
  и некоторой дополнительной поддержкой поиска и индексации.
  Однако CHM можно просматривать только с помощью HTML Help Viewer,
  вы можете напрямую получить доступ к файлам внутри них,
  используя специальный префикс URL, имя файла CHM и файл,
  который вы запрашиваете изнутри.
  Поскольку всё содержимое справки хранится в файлах HTML,
  вы можете показывать страницы CHM в Internet Explorer.
 </para>
 <para>
  Предположим, вы разместили <filename>php_manual_en.chm</filename>
  в директории <filename>c:\phpmanual</filename>.
  Индексный файл руководства (который вы видите в первый раз) можно открыть
  по следующему URL <literal>mk:@MSITStore:C:\phpmanual\php_manual_en.chm::/_index.html</literal>.
  Здесь <literal>mk:@MSITStore:</literal> – специальный «протокол»,
  <filename>C:\phpmanual\php_manual_en.chm</filename> – абсолютный пусть CHM.
  Часть <filename>/_index.html</filename> – это путь к индексному файлу внутри CHM,
  а <literal>::</literal> – это то, что нужно поместить между путём CHM и путём к этому файлу.
 </para>
 <para>
  <note>
   <para>
    Все файлы находятся в корневом каталоге CHM, в отличие от предыдущих версий CHM,
    которые включали в себя языковой каталог. Имена изображений,
    таблиц стилей и других дополнительных файлов начинаются с подчёркивания
    (как в главном индексе, показанном выше), чтобы избежать коллизии имён.
   </para>
  </note>
 </para>
 <para>
  Имена создаваемых файлов соответствуют тем же правилам, что и в онлайн-руководстве,
  за исключением того, что расширение – <literal>.html</literal>, а не <literal>.php</literal>.
  Самое важное, чтобы файлы документации по функциям назывались
  <filename>function.FUNCNAME.html</filename>, где <literal>FUNCNAME</literal> – это имя функции,
  со всеми подчеркиваниями, преобразованными в дефисы.
  В качестве примера можно привести:
  <filename>function.echo.html</filename>,
  <filename>function.mysql-close.html</filename>,
  <filename>function.imagecopy.html</filename>.
 </para>
 <para>
  Используя всю эту информацию, вы можете показать страницу руководства для функции,
  запрашиваемой пользователем. В дистрибутив включён простой пример под названием
  <filename>php_quickref.hta</filename>.
  Это <link xlink:href="&url.chm.hta;">HTML-приложение</link>, демонстрирующее
  простой процесс показа страницы руководства для функции.
  Определённая в нём функция <literal>quickRef()</literal> выполняет эту работу.
 </para>
 <para>
  Если вы хотите интегрировать руководство в IDE, не имеющую прямой поддержки руководства по PHP
  (фактически преобразования подчёркивания в дефис), вы можете использовать включённый файл
  <filename>_function.html</filename> для доступа к странице функции.
  Этот файл является просто перенаправляющим и его можно настраивать с помощью URL,
  например, <filename>_function.html#mysql_close</filename>.
  Эта страница будет автоматически перенаправлять вас на страницу функции
  mysql_close (<filename>function.mysql-close.html</filename>).
  Вы можете указать полный путь к этому файлу, если ваша IDE поддерживает контекстно-зависимую справку,
  а в качестве параметра указать строку, заданную IDE.
  В качестве примера можно привести интерфейс UltraEdit 9 (смотрите сайт издания).
 </para>
 <para>
  Индекс руководства (доступен на вкладке «Индекс» на панели навигации)
  также может быть использован в интеграционных целях.
  Все HTML-страницы включены в индекс с их названиями в качестве терминов индекса
  (включая страницы описания функций).
 </para>
 <para>
  Если вы являетесь разработчиком настольных приложений и хотите плотно интегрировать CHM в свою программу
  (например, отображать дерево оглавления в окне справки вашей IDE),
  вы можете найти дополнительную информацию на сайте <link xlink:href="&url.chm.helpware;">&url.chm.helpware;</link>,
  а также ссылки на другие полезные ресурсы.
  Официальный сайт HTML Help находится по адресу <link xlink:href="&url.chm;">&url.chm;</link>.
 </para>
</chapter>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
